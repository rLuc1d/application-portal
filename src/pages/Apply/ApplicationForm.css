/* === PAGE LAYOUT === */
.af-page-container { min-height: 100vh; width: 100%; background: radial-gradient(circle at 10% 10%, #EBF4FF 0%, #F5F9FF 50%, #E0F2FE 100%); font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; display: flex; flex-direction: column; align-items: center; padding: 20px; box-sizing: border-box; position: relative; overflow-x: hidden; }
.af-page-container::before { content: ''; position: absolute; top: -10%; left: -10%; width: 60vw; height: 60vw; background: radial-gradient(circle, rgba(74, 144, 226, 0.1) 0%, rgba(255, 255, 255, 0) 70%); border-radius: 50%; filter: blur(80px); z-index: 0; pointer-events: none; }
.af-page-container::after { content: ''; position: absolute; bottom: -10%; right: -10%; width: 50vw; height: 50vw; background: radial-gradient(circle, rgba(255, 184, 28, 0.08) 0%, rgba(255, 255, 255, 0) 70%); border-radius: 50%; filter: blur(80px); z-index: 0; pointer-events: none; }

/* === TOP NAV === */
.af-top-nav { width: 100%; max-width: 900px; display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 20px; z-index: 10; }
.af-back-btn { background: white; border: 1px solid #e2e8f0; padding: 10px 20px; border-radius: 8px; font-weight: 700; color: #475569; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.05); transition: all 0.2s; }
.af-back-btn:hover { background: #f8fafc; color: #1A242F; }
.af-progress-wrapper { display: flex; flex-direction: column; align-items: flex-end; gap: 8px; width: 60%; }
.af-progress-label { font-size: 12px; font-weight: 600; color: #64748b; }
.af-progress-bar { width: 100%; height: 6px; background: #e2e8f0; border-radius: 10px; overflow: hidden; }
.af-progress-fill { height: 100%; background: linear-gradient(90deg, #4A90E2 0%, #FFB81C 100%); transition: width 0.4s ease; }

/* === MAIN CARD === */
.af-card { background: white; width: 100%; max-width: 900px; padding: 48px; border-radius: 24px; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.08); z-index: 10; position: relative; }
.af-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 40px; }
.af-title { font-size: 32px; font-weight: 800; color: #1A242F; margin: 0 0 8px 0; }
.af-subtitle { font-size: 16px; color: #64748b; margin: 0; }
.af-sample-btn { background: #4A90E2; color: white; border: none; padding: 10px 20px; border-radius: 8px; font-weight: 600; font-size: 14px; cursor: pointer; transition: background 0.2s; }
.af-sample-btn:hover { background: #357abd; }

/* === FORM FIELDS === */
.af-section-title { font-size: 18px; font-weight: 700; color: #1A242F; margin-bottom: 24px; display: flex; align-items: center; gap: 8px; }
.af-dot { color: #FFB81C; font-size: 24px; line-height: 0; }
.af-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-bottom: 32px; }
.af-group { display: flex; flex-direction: column; }
.af-group.full-width { grid-column: 1 / -1; }
.af-label { font-size: 13px; font-weight: 700; color: #475569; margin-bottom: 8px; }
.req { color: #ef4444; margin-left: 2px; }
.af-input { padding: 14px 16px; border: 1px solid #cbd5e1; border-radius: 10px; font-size: 15px; color: #1A242F; background: white; transition: border-color 0.2s; outline: none; width: 100%; box-sizing: border-box; }
.af-input:focus { border-color: #4A90E2; box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.1); }
.af-input.disabled { background: #f1f5f9; color: #64748b; cursor: not-allowed; }

/* === CUSTOM DATE PICKER (FIXED) === */
.cdp-container { position: relative; width: 100%; }
.cdp-input-wrapper { position: relative; cursor: pointer; width: 100%; }
.cdp-input { cursor: pointer; background-color: white !important; width: 100%; }
.cdp-icon { position: absolute; right: 12px; top: 50%; transform: translateY(-50%); color: #4A90E2; pointer-events: none; }
.cdp-popup { position: absolute; top: calc(100% + 4px) !important; left: 0; width: 280px; background: white; border-radius: 12px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); padding: 16px; z-index: 9999; border: 1px solid #e2e8f0; animation: fadeInPop 0.15s ease-out; }
@keyframes fadeInPop { from { opacity: 0; transform: translateY(-8px); } to { opacity: 1; transform: translateY(0); } }
.cdp-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px solid #f1f5f9; }
.cdp-title { font-weight: 800; color: #1A242F; font-size: 15px; cursor: pointer; display: flex; flex-direction: column; align-items: center; line-height: 1.2; }
.cdp-title:hover { color: #4A90E2; }
.cdp-toggle-hint { font-size: 10px; font-weight: 500; color: #94a3b8; }
.cdp-nav-btn { background: white; border: 1px solid #e2e8f0; border-radius: 6px; width: 28px; height: 28px; display: flex; align-items: center; justify-content: center; cursor: pointer; color: #64748b; transition: all 0.2s; }
.cdp-nav-btn:hover { background: #E0F2FE; color: #4A90E2; border-color: #4A90E2; }
.cdp-weekdays { display: grid; grid-template-columns: repeat(7, 1fr); text-align: center; font-size: 11px; font-weight: 700; color: #94a3b8; margin-bottom: 6px; }
.cdp-days-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 2px; }
.cdp-day { height: 30px; display: flex; align-items: center; justify-content: center; border-radius: 6px; cursor: pointer; font-size: 13px; color: #1A242F; transition: all 0.2s; }
.cdp-day:hover:not(.empty) { background-color: #E0F2FE; color: #4A90E2; }
.cdp-day.selected { background-color: #4A90E2; color: white; font-weight: 700; }
.cdp-day.empty { cursor: default; }
.cdp-years-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 6px; max-height: 220px; overflow-y: auto; padding-right: 2px; }
.cdp-years-grid::-webkit-scrollbar { width: 3px; }
.cdp-years-grid::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
.cdp-year { padding: 8px; text-align: center; border-radius: 6px; cursor: pointer; font-size: 13px; color: #475569; background: #F8FAFC; border: 1px solid transparent; transition: all 0.2s; }
.cdp-year:hover { background: #E0F2FE; color: #4A90E2; border-color: #4A90E2; }
.cdp-year.selected { background: #4A90E2; color: white; font-weight: 700; }

/* === FILE UPLOAD & MEDICAL === */
.af-upload-section { margin-bottom: 32px; }
.af-upload-box { border: 2px dashed #cbd5e1; border-radius: 12px; padding: 40px; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 12px; cursor: pointer; color: #64748b; background: #fff; transition: all 0.2s; }
.af-upload-box:hover { border-color: #4A90E2; color: #4A90E2; background: #F0F9FF; }
.af-upload-box.uploaded { border: 2px solid #22c55e; background: #f0fdf4; color: #15803d; }
.af-file-name { font-weight: 700; color: #15803d; }
.af-change-text { font-size: 12px; color: #15803d; opacity: 0.7; }
.af-note-box { background: #F0F9FF; border-left: 4px solid #4A90E2; padding: 16px; border-radius: 0 8px 8px 0; margin-top: 12px; font-size: 12px; color: #475569; line-height: 1.5; }
.af-med-question { font-size: 14px; font-weight: 500; color: #475569; margin-bottom: 16px; }
.af-med-options { display: flex; gap: 20px; margin-bottom: 40px; }
.af-med-option { flex: 1; padding: 16px; border: 1px solid #e2e8f0; border-radius: 10px; text-align: center; cursor: pointer; font-weight: 600; color: #64748b; transition: all 0.2s; }
.af-med-option:hover { border-color: #cbd5e1; background: #f8fafc; }
.af-med-option.selected { border-color: #4A90E2; background: #F0F9FF; color: #4A90E2; border-width: 2px; }
.af-next-btn { width: 100%; background: #FFB81C; color: #1A242F; font-size: 16px; font-weight: 800; padding: 18px; border-radius: 12px; border: none; cursor: pointer; transition: background 0.2s; }
.af-next-btn:hover { background: #e6a518; }

/* === SAMPLE MODAL (EXACT PROTOTYPE COPY) === */
.af-modal-overlay { position: fixed; inset: 0; background: rgba(0, 0, 0, 0.5); backdrop-filter: blur(4px); display: flex; align-items: center; justify-content: center; z-index: 2000; padding: 20px; }
.af-modal-content { background: white; width: 100%; max-width: 650px; max-height: 90vh; border-radius: 24px; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); display: flex; flex-direction: column; overflow: hidden; position: relative; }
.af-modal-close { position: absolute; top: 20px; right: 20px; background: none; border: none; cursor: pointer; padding: 8px; border-radius: 50%; color: #94a3b8; }
.af-modal-close:hover { background: #f1f5f9; }
.af-modal-title { font-size: 22px; font-weight: 800; color: #1A242F; margin: 32px 32px 4px 32px; }
.af-modal-subtitle { font-size: 13px; color: #64748b; margin: 0 32px 24px 32px; }
.af-modal-scroll { overflow-y: auto; padding: 0 32px 32px 32px; flex: 1; }

/* Sections */
.af-sample-section { border-radius: 12px; padding: 20px; margin-bottom: 20px; }
.af-sample-section-blue { background-color: #f0f7ff; border: 1px solid #dbeafe; }
.af-sample-section-green { background-color: #f0fdf4; border: 1px solid #dcfce7; }
.af-sample-section-yellow { background-color: #fefce8; border: 1px solid #fef9c3; }
.af-sample-section-purple { background-color: #faf5ff; border: 1px solid #f3e8ff; }

.af-sample-header { font-size: 15px; font-weight: 700; margin-bottom: 12px; }

/* Compact Grid */
.af-grid.sample-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 0; }
.af-sample-field { display: flex; flex-direction: column; }
.af-sample-field.full-width { grid-column: span 2; }
.af-sample-field label { font-size: 11px; font-weight: 600; color: #64748b; margin-bottom: 4px; }

/* Read-only Inputs */
.af-input.sample { 
  background: white; border: 1px solid #e2e8f0; border-radius: 8px; 
  color: #1A242F; pointer-events: none; padding: 8px 12px; font-size: 13px; 
  width: 100%; box-sizing: border-box;
}
.af-input.sample.file-look { display: flex; align-items: center; gap: 8px; color: #475569; }

/* Medical Radio */
.af-med-sample-row { display: flex; gap: 16px; margin-top: 8px; }
.af-med-radio { display: flex; align-items: center; gap: 6px; font-size: 13px; color: #64748b; font-weight: 600; padding: 8px 16px; border: 1px solid #e2e8f0; border-radius: 8px; background: white; }
.af-med-radio.selected { border-color: #4A90E2; background: #eff6ff; color: #4A90E2; }
.af-med-radio span { font-size: 16px; line-height: 1; }

.af-modal-footer { background: #FFFBEB; border-top: 1px solid #fde68a; padding: 16px 32px; font-size: 11px; color: #1A242F; text-align: center; }

/* Mobile */
@media (max-width: 768px) {
  .af-card { padding: 24px; }
  .af-grid, .af-grid.sample-grid { grid-template-columns: 1fr; }
  .af-group.full-width, .af-sample-field.full-width { grid-column: span 1; }
  .af-top-nav { flex-direction: column-reverse; gap: 16px; align-items: flex-start; }
}